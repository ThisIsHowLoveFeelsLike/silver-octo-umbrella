local components = loadstring(game:HttpGet("https://raw.githubusercontent.com/frzfrsy/School/main/source.lua"))()

local form = components:New(
	"Banana Eats",
	Color3.new(0, 0, 0),
	Color3.new(0, 0, 0),
	1
)

local RunService = game:GetService("RunService")
local coinLoopConn
local coinRunning = false

local function getTokensFolder()
    local gk = workspace:FindFirstChild("GameKeeper")
    if not gk then return nil end
    local map = gk:FindFirstChild("Map")
    if not map then return nil end
    return map:FindFirstChild("Tokens")
end

local function getHRP()
    local player = game.Players.LocalPlayer
    if not player then return nil end
    local char = player.Character
    if not char then return nil end
    return char:FindFirstChild("HumanoidRootPart")
end

form:Toggle("Collect Coins", "Picks up all the coins in the map.", function(state)
    coinRunning = state

    if state then
        if coinLoopConn then coinLoopConn:Disconnect() end
        coinLoopConn = RunService.Heartbeat:Connect(function()
            if not coinRunning then return end

            local hrp = getHRP()
            if not hrp then return end

            local tokensFolder = getTokensFolder()
            if not tokensFolder then return end

            for _, y in ipairs(tokensFolder:GetChildren()) do
                if y and y.Parent and y:IsA("Part") and y.Name == "Token" then
                    pcall(function()
                        firetouchinterest(y, hrp, 0)
                        task.wait(0.1)
                        firetouchinterest(y, hrp, 1)
                    end)
                end
            end
        end)

        game.Players.LocalPlayer.CharacterAdded:Connect(function()
            coinRunning = true
        end)
    else
        if coinLoopConn then
            coinLoopConn:Disconnect()
            coinLoopConn = nil
        end
    end
end)

form:Toggle("Collect Power-ups", "Picks up all the power-ups in the map.", function(state)
    local collecting = state

    task.spawn(function()
        while collecting do
            local mapFolder = workspace:FindFirstChild("GameKeeper")
            if mapFolder then
                mapFolder = mapFolder:FindFirstChild("Map")
            end

            if mapFolder then
                local tokensFolder = mapFolder:FindFirstChild("Tokens")
                if tokensFolder then
                    local player = game.Players.LocalPlayer
                    local character = player and player.Character
                    local rootPart = character and character:FindFirstChild("HumanoidRootPart")

                    if rootPart then
                        for _, token in ipairs(tokensFolder:GetChildren()) do
                            if token:IsA("MeshPart") then
                                firetouchinterest(token, rootPart, 0)
                                task.wait(0.1)
                            end
                        end
                    end
                end
            end

            task.wait(0.5)
        end
    end)
end)

local RunService = game:GetService("RunService")

local cakeLoop

form:Toggle("Show Cakes", "Adds a sensory perception to Cakes.", function(state)
    if state then

        cakeLoop = true
        task.spawn(function()
            while cakeLoop do
                local mapFolder = workspace:FindFirstChild("GameKeeper")
                if mapFolder then
                    mapFolder = mapFolder:FindFirstChild("Map")
                end

                if mapFolder then
                    local itemsFolder = mapFolder:FindFirstChild("Items")
                    if itemsFolder then
                        for _, item in ipairs(itemsFolder:GetChildren()) do
                            if item:IsA("Model") and item.Name == "CakePlate" then
                                if not item:FindFirstChild("CakeLabel") then
                                    local billboard = Instance.new("BillboardGui")
                                    billboard.Name = "CakeLabel"
                                    billboard.Size = UDim2.new(1, 25, 1, 15)
                                    billboard.StudsOffset = Vector3.new(0, 3, 0)
                                    billboard.AlwaysOnTop = true
                                    billboard.Parent = item

                                    local textLabel = Instance.new("TextLabel")
                                    textLabel.Size = UDim2.new(1, 0, 1, 0)
                                    textLabel.BackgroundTransparency = 1
                                    textLabel.Text = "CAKE"
                                    textLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
                                    textLabel.TextStrokeTransparency = 0
                                    textLabel.Font = Enum.Font.Roboto
                                    textLabel.TextScaled = true
                                    textLabel.Parent = billboard
                                end
                            end
                        end
                    end
                end

                task.wait(1)
            end
        end)
    else

        cakeLoop = false

        local mapFolder = workspace:FindFirstChild("GameKeeper")
        if mapFolder then
            mapFolder = mapFolder:FindFirstChild("Map")
        end

        if mapFolder then
            local itemsFolder = mapFolder:FindFirstChild("Items")
            if itemsFolder then
                for _, item in ipairs(itemsFolder:GetChildren()) do
                    if item:IsA("Model") and item.Name == "CakePlate" then
                        local label = item:FindFirstChild("CakeLabel")
                        if label then
                            label:Destroy()
                        end
                    end
                end
            end
        end
    end
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local Running = false

form:Toggle("Auto-Solve Cakes Puzzle", "Ensure you hold a slice of Cake first.", function(state)
	Running = state

	if not state then
		return
	end

	task.spawn(function()
		while Running do
			local puzzles = workspace:FindFirstChild("GameKeeper")
				and workspace.GameKeeper:FindFirstChild("Puzzles")

			local cakePuzzle = puzzles and puzzles:FindFirstChild("CakePuzzle")
			local root = cakePuzzle and cakePuzzle:FindFirstChild("Root")

			if root and root:IsA("BasePart") then
				local character = LocalPlayer.Character
				local humanoidRoot = character and character:FindFirstChild("HumanoidRootPart")

				if character and humanoidRoot then
					local hasCake = false

					for _, obj in ipairs(character:GetDescendants()) do
						if obj:IsA("StringValue") and obj.Value == "CakeSlice" then
							hasCake = true
							break
						end
					end

					if hasCake then
						firetouchinterest(root, humanoidRoot, 0)
						firetouchinterest(root, humanoidRoot, 1)
					end
				end
			end

			task.wait(0.3)
		end
	end)
end)

local RunService = game:GetService("RunService")

local puzzleConn
local keyConn

local function getButton()
    local gameKeeper = workspace:FindFirstChild("GameKeeper")
    if not gameKeeper then return nil end

    local puzzles = gameKeeper:FindFirstChild("Puzzles")
    if not puzzles then return nil end

    local comboPuzzle = puzzles:FindFirstChild("CombinationPuzzle")
    if not comboPuzzle then return nil end

    local marker = comboPuzzle:FindFirstChild("PuzzleMarker")
    if not marker then return nil end

    local button = marker:FindFirstChild("Button")
    if not (button and button:IsA("MeshPart")) then return nil end

    return button
end

local function ensureBillboard(button)
    local billboard = button:FindFirstChild("ComboBillboard")
    if billboard then return end

    billboard = Instance.new("BillboardGui")
    billboard.Name = "ComboBillboard"
    billboard.Size = UDim2.new(1, 65, 1, 15)
    billboard.StudsOffset = Vector3.new(0, 2, 0)
    billboard.AlwaysOnTop = true
    billboard.Adornee = button
    billboard.Parent = button

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.TextStrokeTransparency = 0
    textLabel.Text = "COMBINATION"
    textLabel.TextColor3 = Color3.new(1, 0, 0)
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.Roboto
    textLabel.Parent = billboard
end

local function removeBillboard(button)
    if not button then return end
    for _, child in ipairs(button:GetChildren()) do
        if child:IsA("BillboardGui") and child.Name == "ComboBillboard" then
            child:Destroy()
        end
    end
end

form:Toggle(
    "Show Combination Puzzle",
    "Shows you where the combination puzzle is",
    function(state)
        if state then
            if puzzleConn then
                puzzleConn:Disconnect()
                puzzleConn = nil
            end

            puzzleConn = RunService.Heartbeat:Connect(function()
                local button = getButton()
                if not button then return end

                if button.Color == Color3.fromRGB(147, 0, 0) then
                    ensureBillboard(button)
                elseif button.Color == Color3.fromRGB(67, 176, 15) then
                    removeBillboard(button)
                end
            end)
        else
            if puzzleConn then
                puzzleConn:Disconnect()
                puzzleConn = nil
            end

            local button = getButton()
            if button then
                removeBillboard(button)
            end
        end
    end
)

local function getKeyModel()
    local gameKeeper = workspace:FindFirstChild("GameKeeper")
    if not gameKeeper then return nil end

    local puzzles = gameKeeper:FindFirstChild("Puzzles")
    if not puzzles then return nil end

    local comboPuzzle = puzzles:FindFirstChild("CombinationPuzzle")
    if not comboPuzzle then return nil end

    local keyModel = comboPuzzle:FindFirstChild("CombinationKey")
    if not (keyModel and keyModel:IsA("Model")) then return nil end

    return keyModel
end

local function ensureKeyBillboard(keyModel)
    local billboard = keyModel:FindFirstChild("KeyBillboard")
    if billboard then return end

    billboard = Instance.new("BillboardGui")
    billboard.Name = "KeyBillboard"
    billboard.Size = UDim2.new(1, 25, 1, 15)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true
    billboard.Adornee = keyModel:FindFirstChildWhichIsA("BasePart")
    billboard.Parent = keyModel

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.TextStrokeTransparency = 0
    textLabel.Text = "CODE"
    textLabel.TextColor3 = Color3.new(1, 0, 0)
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.Roboto
    textLabel.Parent = billboard
end

local function removeKeyBillboard(keyModel)
    if not keyModel then return end
    for _, child in ipairs(keyModel:GetChildren()) do
        if child:IsA("BillboardGui") and child.Name == "KeyBillboard" then
            child:Destroy()
        end
    end
end

form:Toggle(
    "Show Combination Key",
    "Shows you where the combination key is",
    function(state)
        if state then
            if keyConn then
                keyConn:Disconnect()
                keyConn = nil
            end

            keyConn = RunService.Heartbeat:Connect(function()
                local keyModel = getKeyModel()
                if not keyModel then return end
                ensureKeyBillboard(keyModel)
            end)
        else
            if keyConn then
                keyConn:Disconnect()
                keyConn = nil
            end

            local keyModel = getKeyModel()
            if keyModel then
                removeKeyBillboard(keyModel)
            end
        end
    end
)

local Running = false

local function createBillboard(part)
	if part:FindFirstChild("IM_HERE_GUI") then
		return
	end

	local gui = Instance.new("BillboardGui")
	gui.Name = "IM_HERE_GUI"
	gui.Adornee = part
	gui.Size = UDim2.new(1, 25, 1, 15)
	gui.StudsOffset = Vector3.new(0, 2.5, 0)
	gui.AlwaysOnTop = true

	local label = Instance.new("TextLabel")
	label.Size = UDim2.fromScale(1, 1)
	label.BackgroundTransparency = 1
	label.Text = "VALVE"
	label.TextScaled = true
    label.TextStrokeTransparency = 0
	label.TextColor3 = Color3.new(0, 0, 1)
	label.Font = Enum.Font.Roboto
	label.Parent = gui

	gui.Parent = part
end

local function removeBillboard(part)
	local gui = part:FindFirstChild("IM_HERE_GUI")
	if gui then
		gui:Destroy()
	end
end

form:Toggle("Show Valves", "Marks incompleted valves.", function(state)
	Running = state

	if not state then
		local puzzles = workspace:FindFirstChild("GameKeeper")
			and workspace.GameKeeper:FindFirstChild("Puzzles")

		if puzzles then
			for _, obj in ipairs(puzzles:GetDescendants()) do
				if obj:IsA("Part") and obj.Name == "ValveButton" then
					removeBillboard(obj)
				end
			end
		end
		return
	end

	task.spawn(function()
		while Running do
			local puzzles = workspace:FindFirstChild("GameKeeper")
				and workspace.GameKeeper:FindFirstChild("Puzzles")

			if puzzles then
				for _, obj in ipairs(puzzles:GetDescendants()) do
					if obj:IsA("Part") and obj.Name == "ValveButton" then
						local completed =
							obj.Parent
							and obj.Parent.Parent
							and obj.Parent.Parent:FindFirstChild("Completed")

						if completed and completed.Value == true then
							removeBillboard(obj)
						else
							createBillboard(obj)
						end
					end
				end
			end

			task.wait(0.5)
		end
	end)
end)

local RunService = game:GetService("RunService")
local ventsLoopConn
local ventsRunning = false

form:Toggle("Show Vents", "Highlights all the crawl ways", function(state)
    ventsRunning = state

    if state then

        if ventsLoopConn then ventsLoopConn:Disconnect() end
        ventsLoopConn = RunService.Heartbeat:Connect(function()
            if not ventsRunning then return end

            local gk = workspace:FindFirstChild("GameKeeper")
            if not gk then return end
            local map = gk:FindFirstChild("Map")
            if not map then return end
            local ventsFolder = map:FindFirstChild("Vents")
            if not ventsFolder then return end

            for _, v in ipairs(ventsFolder:GetDescendants()) do
                if v and v:IsA("Model") and v.Name == "Crawlway" then
                    if not v:FindFirstChildOfClass("Highlight") then
                        local hl = Instance.new("Highlight")
                        hl.Name = "VentHighlight"
                        hl.FillColor = Color3.fromRGB(0, 255, 255) 

                        hl.OutlineColor = Color3.fromRGB(0, 0, 0) 

                        hl.FillTransparency = 0.5
                        hl.OutlineTransparency = 0
                        hl.Parent = v
                    end
                end
            end
        end)
    else

        ventsRunning = false
        if ventsLoopConn then
            ventsLoopConn:Disconnect()
            ventsLoopConn = nil
        end

        local gk = workspace:FindFirstChild("GameKeeper")
        if gk and gk:FindFirstChild("Map") and gk.Map:FindFirstChild("Vents") then
            for _, v in ipairs(gk.Map.Vents:GetDescendants()) do
                if v and v:IsA("Model") and v.Name == "Crawlway" then
                    local hl = v:FindFirstChild("VentHighlight")
                    if hl then hl:Destroy() end
                end
            end
        end
    end
end)

local RunService = game:GetService("RunService")
local bananaLoopConn
local bananaRunning = false

form:Toggle("Show Banana", "Where the fuck is the banana?", function(state)
    bananaRunning = state

    if state then

        if bananaLoopConn then bananaLoopConn:Disconnect() end
        bananaLoopConn = RunService.Heartbeat:Connect(function()
            if not bananaRunning then return end

            local bananasFolder = workspace:FindFirstChild("GameBananas")
            if not bananasFolder then return end

            for _, folder in ipairs(bananasFolder:GetChildren()) do
                if folder and folder:IsA("Folder") and folder.Name ~= "LobbyBananaAI" then
                    for _, model in ipairs(folder:GetChildren()) do
                        if model and model:IsA("Model") then
                            if not model:FindFirstChildOfClass("Highlight") then
                                local hl = Instance.new("Highlight")
                                hl.Name = "BananaHighlight"
                                hl.FillColor = Color3.fromRGB(255, 255, 0) 

                                hl.OutlineColor = Color3.fromRGB(0, 0, 0)
                                hl.FillTransparency = 0.3
                                hl.OutlineTransparency = 0
                                hl.Parent = model
                            end
                        end
                    end
                end
            end
        end)
    else
        bananaRunning = false
        if bananaLoopConn then
            bananaLoopConn:Disconnect()
            bananaLoopConn = nil
        end

        local bananasFolder = workspace:FindFirstChild("GameBananas")
        if bananasFolder then
            for _, folder in ipairs(bananasFolder:GetChildren()) do
                if folder and folder:IsA("Folder") and folder.Name ~= "LobbyBananaAI" then
                    for _, model in ipairs(folder:GetChildren()) do
                        if model and model:IsA("Model") then
                            local hl = model:FindFirstChild("BananaHighlight")
                            if hl then hl:Destroy() end
                        end
                    end
                end
            end
        end
    end
end)

local RunService = game:GetService("RunService")
local runnersLoopConn
local runnersRunning = false

form:Toggle("Show Runners", "Shows all Runners.", function(state)
    runnersRunning = state

    if state then
        if runnersLoopConn then runnersLoopConn:Disconnect() end
        runnersLoopConn = RunService.Heartbeat:Connect(function()
            if not runnersRunning then return end

            local localPlayer = game.Players.LocalPlayer

            for _, player in ipairs(game.Players:GetPlayers()) do
                if player ~= localPlayer and player.Team and player.Team.Name == "Runners" then
                    local char = player.Character
                    if char then
                        local torso = char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso")
                        local color = Color3.fromRGB(0, 255, 0)
                        if torso and torso:IsA("BasePart") then
                            color = torso.Color
                        end

                        if not char:FindFirstChild("RunnerHighlight") then
                            local hl = Instance.new("Highlight")
                            hl.Name = "RunnerHighlight"
                            hl.FillColor = color
                            hl.OutlineColor = Color3.fromRGB(0, 0, 0)
                            hl.FillTransparency = 0.3
                            hl.OutlineTransparency = 0
                            hl.Parent = char
                        else
                            char.RunnerHighlight.FillColor = color
                        end
                    end
                end
            end
        end)
    else
        runnersRunning = false
        if runnersLoopConn then
            runnersLoopConn:Disconnect()
            runnersLoopConn = nil
        end

        for _, player in ipairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer then
                local char = player.Character
                if char then
                    local hl = char:FindFirstChild("RunnerHighlight")
                    if hl then hl:Destroy() end
                end
            end
        end
    end
end)

local RunService = game:GetService("RunService")
local peelLoopConn
local peelRunning = false

form:Toggle("No Peel Touch", "Fuck the traps.", function(state)
    peelRunning = state

    if state then
        if peelLoopConn then peelLoopConn:Disconnect() end
        peelLoopConn = RunService.Heartbeat:Connect(function()
            if not peelRunning then return end

            local gk = workspace:FindFirstChild("GameKeeper")
            if not gk then return end
            local map = gk:FindFirstChild("Map")
            if not map then return end
            local peelsFolder = map:FindFirstChild("Peels")
            if not peelsFolder then return end

            for _, obj in ipairs(peelsFolder:GetDescendants()) do
                if obj and obj:IsA("MeshPart") and obj.Name == "Root" then
                    if obj.CanTouch then
                        obj.CanTouch = false
                    end
                end
            end
        end)
    else
        peelRunning = false
        if peelLoopConn then
            peelLoopConn:Disconnect()
            peelLoopConn = nil
        end

        local gk = workspace:FindFirstChild("GameKeeper")
        if gk and gk:FindFirstChild("Map") and gk.Map:FindFirstChild("Peels") then
            for _, obj in ipairs(gk.Map.Peels:GetDescendants()) do
                if obj and obj:IsA("MeshPart") and obj.Name == "Root" then
                    obj.CanTouch = true
                end
            end
        end
    end
end)

local RunService = game:GetService("RunService")
local exitsLoopConn
local exitsRunning = false

form:Toggle("Auto-Escape the Map", "Auto escapes the map from Banana.", function(state)
    exitsRunning = state

    if state then

        if exitsLoopConn then exitsLoopConn:Disconnect() end
        exitsLoopConn = RunService.Heartbeat:Connect(function()
            if not exitsRunning then return end

            local player = game.Players.LocalPlayer
            if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then
                return
            end
            local hrp = player.Character.HumanoidRootPart

            local gk = workspace:FindFirstChild("GameKeeper")
            if not gk then return end
            local exitsFolder = gk:FindFirstChild("Exits")
            if not exitsFolder then return end

            for _, model in ipairs(exitsFolder:GetChildren()) do
                if model and model:IsA("Model") then
                    local rootPart = model:FindFirstChild("Root")
                    if rootPart and rootPart:IsA("BasePart") then
                        rootPart.CanCollide = false
                        pcall(function()
                            firetouchinterest(rootPart, hrp, 0)
                            task.wait(0.05)
                            firetouchinterest(rootPart, hrp, 1)
                        end)
                    end
                end
            end
        end)
    else
        exitsRunning = false
        if exitsLoopConn then
            rootPart.CanCollide = true
            exitsLoopConn:Disconnect()
            exitsLoopConn = nil
        end
    end
end)

local RunService = game:GetService("RunService")
local barrelLoopConn
local barrelRunning = false

form:Toggle("Auto-Claim Bonus Barrel", "Auto claims the Bonus Barrel in the lobby.", function(state)
    barrelRunning = state

    if state then

        if barrelLoopConn then barrelLoopConn:Disconnect() end
        barrelLoopConn = RunService.Heartbeat:Connect(function()
            if not barrelRunning then return end

            local player = game.Players.LocalPlayer
            if not player or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then
                return
            end
            local hrp = player.Character.HumanoidRootPart

            local barrel = workspace:FindFirstChild("BonusBarrel")
            if not barrel then return end

            local rootPart = barrel:FindFirstChild("Root")
            if rootPart and rootPart:IsA("BasePart") then
                pcall(function()
                    firetouchinterest(rootPart, hrp, 0)
                    task.wait(0.05)
                    firetouchinterest(rootPart, hrp, 1)
                end)
            end
        end)
    else

        barrelRunning = false
        if barrelLoopConn then
            barrelLoopConn:Disconnect()
            barrelLoopConn = nil
        end
    end
end)

form:Toggle("No Clip", "Walk through walls by disabling collisions.", function(state)
    local connection

    if state then
        connection = game:GetService("RunService").Stepped:Connect(function()
            local player = game.Players.LocalPlayer
            local character = player and player.Character
            if character then
                for _, child in ipairs(character:GetDescendants()) do
                    if child:IsA("BasePart") and child.CanCollide and child.Name ~= "HumanoidRootPart" then
                        child.CanCollide = false
                    end
                end
            end
        end)
    else
        if connection then
            connection:Disconnect()
            connection = nil
        end
    end
end)

form:Toggle("Lag Reduction", "Reduce lag by lowering graphics-heavy properties", function(state)
    if state then

        settings().Rendering.QualityLevel = Enum.QualityLevel.Level01 

        workspace.StreamingEnabled = true
        workspace.InterpolationThrottling = Enum.InterpolationThrottlingMode.Disabled

        game.Lighting.GlobalShadows = false

        game.Lighting.FogEnd = 1e6
        game.Lighting.FogStart = 1e6
        game.Lighting.FogColor = Color3.fromRGB(255, 255, 255) 

        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("BasePart") then
                obj.CastShadow = false
                obj.Material = Enum.Material.Plastic
            elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                obj.Enabled = false
            end
        end
    else

        settings().Rendering.QualityLevel = Enum.QualityLevel.Automatic
        workspace.StreamingEnabled = false
        workspace.InterpolationThrottling = Enum.InterpolationThrottlingMode.Default
        game.Lighting.GlobalShadows = true

        game.Lighting.FogEnd = 1000
        game.Lighting.FogStart = 0
        game.Lighting.FogColor = Color3.fromRGB(128, 128, 128)

        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("BasePart") then
                obj.CastShadow = true
            elseif obj:IsA("ParticleEmitter") or obj:IsA("Trail") then
                obj.Enabled = true
            end
        end
	end
end)

local LP = Players.LocalPlayer
local akIndex = 1
local autoKillActive, autoKillThread = false, nil
local setAutoKill

local function getRunnersList()
    local list = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= LP and p.Team and p.Team.Name == "Runners" then
            local c = p.Character
            local h = c and c:FindFirstChild("HumanoidRootPart")
            if h then table.insert(list, {p=p, hrp=h}) end
        end
    end

    table.sort(list, function(a,b)
        return a.p.UserId < b.p.UserId
    end)

    return list
end

setAutoKill = function(state)
    if state and not autoKillActive then
        autoKillActive = true
        if autoKillThread then task.cancel(autoKillThread) end
        akIndex = 1
        autoKillThread = task.spawn(function()
            while autoKillActive do
                if not (LP.Team and LP.Team.Name == "Banana") then
                    task.wait(0.5)
                else
                    local runners = getRunnersList()
                    if #runners == 0 then
                        task.wait(0.4)
                    else
                        if akIndex > #runners then
							akIndex = 1
						end
                        local entry = runners[akIndex]
                        akIndex = akIndex + 1
                        local my = getHRP()
                        if my and entry and entry.hrp and entry.hrp.Parent then
                            my.CFrame = CFrame.new(entry.hrp.Position + Vector3.new(0, 2, 0))
                        end
                        task.wait(autoKillInterval)
                    end
                end
            end
        end)
    end
    if not state and autoKillActive then
        autoKillActive = false
        if autoKillThread then task.cancel(autoKillThread); autoKillThread=nil end
    end
end

form:Toggle("Auto-Kill Runners", "Auto kills all runners.", function(state)
    setAutoKill(state)
end)

local autoDeleteLockersActive, autoDeleteLockersThread = false, nil

local function setDeleteLockers(state)
    if state and not autoDeleteLockersActive then
        autoDeleteLockersActive = true

        if autoDeleteLockersThread then
			task.cancel(autoDeleteLockersThread)
		end

        autoDeleteLockersThread = task.spawn(function()
            while autoDeleteLockersActive do
                pcall(function()
                    for _, d in ipairs(workspace:GetDescendants()) do
                        if d and typeof(d.Name)=="string" and d.Name:lower():find("locker") then
							pcall(function()
								d:Destroy()
							end)
						end
                    end
                end)
                task.wait(5)
            end
        end)
    end
    if not state and autoDeleteLockersActive then
        autoDeleteLockersActive = false
        if autoDeleteLockersThread then task.cancel(autoDeleteLockersThread); autoDeleteLockersThread=nil end
    end
end

form:Toggle("Destroy Lockers", "(client-sided) Destroys all lockers in the map.", function(state)
    setDeleteLockers(state)
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local AC_GRACE_AFTER_PICK     = 0.70
local AC_SCAN_INTERVAL        = 0.20
local AC_EMPTY_SCANS_TO_EXIT  = 10
local AC_CLICK_TIME_PER_PLATE = 2.5

local running = false

local function clickUntilGone(entry, timeout)
    timeout = timeout or 3
    local t0 = tick()
    while entry.inst and entry.inst.Parent and tick() - t0 < timeout do
        if not entry.cd or not entry.cd.Parent then break end
        pcall(function()
            if entry.cd.MaxActivationDistance then
                entry.cd.MaxActivationDistance = math.huge
            end
            fireclickdetector(entry.cd)
        end)
        task.wait(0.05)
    end
end

local function waitForPath(root, segments, timeout)
    local t0 = tick()
    local node = root
    for _, name in ipairs(segments) do
        local left = timeout and math.max(0, timeout - (tick()-t0)) or 5
        node = node:FindFirstChild(name) or node:WaitForChild(name, left)
        if not node then return nil end
    end
    return node
end

local function getActiveCakePlates()
    local items = waitForPath(workspace, {"GameKeeper","Map","Items"}, 5)
    local list = {}
    if not items then return list end
    for _, cp in ipairs(items:GetChildren()) do
        if cp.Name == "CakePlate" then
            local root = cp:FindFirstChild("Model")
            root = root and root:FindFirstChild("CakePlate")
            root = root and root:FindFirstChild("Root")
            local cd = root and (root:FindFirstChildOfClass("ClickDetector") or root:FindFirstChildWhichIsA("ClickDetector", true))
            if cd then
                table.insert(list, {inst = cp, cd = cd})
            end
        end
    end
    return list
end

local function autoCakeLoop()
    while running do
        local emptyScans = 0
        local lastPick = 0
        while running do
            if tick() - lastPick < AC_GRACE_AFTER_PICK then
                task.wait(AC_SCAN_INTERVAL)
            end
            local plates = getActiveCakePlates()
            if 

                emptyScans += 1
                if emptyScans >= AC_EMPTY_SCANS_TO_EXIT then

                    emptyScans = 0
                end
                task.wait(AC_SCAN_INTERVAL)
            else
                emptyScans = 0
                for _, entry in ipairs(plates) do
                    clickUntilGone(entry, AC_CLICK_TIME_PER_PLATE)
                    depositCakeTouch(3)
                    lastPick = tick()
                    task.wait(AC_SCAN_INTERVAL)
                end
            end
        end
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    if running then
        task.spawn(autoCakeLoop)
    end
end)

form:Toggle("Auto-Solve Cakes Puzzle PT II", "Read ASCP Toggle (don’t hover GUIs).", function(state)
    running = state
    if state then
        task.spawn(autoCakeLoop)
    end
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local running = false

local function findCombinationPuzzleModel()
    local gk = workspace:FindFirstChild("GameKeeper")
    if not gk then return nil end
    local puzzles = gk:FindFirstChild("Puzzles")
    if not puzzles then return nil end
    return puzzles:FindFirstChild("CombinationPuzzle")
end

local function getComboButtonsFolder()
    local cp = findCombinationPuzzleModel()
    if not cp then return nil end
    local key = cp:FindFirstChild("CombinationKey")
    if not key then return nil end
    return key:FindFirstChild("Buttons")
end

local function readCombinationCode()
    local root = getComboButtonsFolder()
    if not root then return nil end
    local out = {}
    for i = 1, 3 do
        local btn = root:FindFirstChild("Button"..i); if not btn then return nil end
        local bl = btn:FindFirstChild("ButtonLabel"); if not bl then return nil end
        local label = bl:FindFirstChild("Label"); if not (label and label:IsA("TextLabel")) then return nil end
        local txt = tostring(label.Text or "")
        local digit = txt:match("(%d)%s*$") or txt:match("(%d)") or ""
        if digit == "" then return nil end
        table.insert(out, digit)
    end
    return table.concat(out, "")
end

local function getDialFolder()
    local cp = findCombinationPuzzleModel()
    if not cp then return nil end
    return cp:FindFirstChild("Buttons")
end

local function readDialDigit(dial)
    local lbl = dial:FindFirstChild("ButtonLabel")
    local txt = lbl and lbl:FindFirstChild("Label")
    local digit = txt and txt:IsA("TextLabel") and tonumber(txt.Text) or 1
    return digit or 1
end

local function pressDialTo(dial, targetDigit)
    targetDigit = math.clamp(tonumber(targetDigit) or 1, 1, 9)
    local cd = dial and dial:FindFirstChildOfClass("ClickDetector") or dial:FindFirstChildWhichIsA("ClickDetector", true)
    if not cd then return end
    local cur = readDialDigit(dial)
    local delta = (targetDigit - cur) % 9
    for _ = 1, delta do
        pcall(function()
            if cd.MaxActivationDistance then cd.MaxActivationDistance = math.huge end
            fireclickdetector(cd)
        end)
        task.wait(0.12)
    end
end

local function enterCombinationOnce()
    local desired = readCombinationCode()
    if not desired or 

    local buttons = getDialFolder()
    if not buttons then return end
    for i = 1, 3 do
        local dial = buttons:FindFirstChild("Button"..i)
        if dial then pressDialTo(dial, tonumber(desired:sub(i,i))) end
    end
end

local function comboLoop()
    while running do
        enterCombinationOnce()
        task.wait(1)
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    if running then
        task.spawn(comboLoop)
    end
end)

form:Toggle("Auto-Solve Combination Puzzle", "Auto solves combination puzzle (don’t hover GUIs).", function(state)
    running = state
    if state then
        task.spawn(comboLoop)
    end
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local running = false

local function getAllPictureButtonsFolders()
    local list = {}
    local gk = workspace:FindFirstChild("GameKeeper")
    local puzzles = gk and gk:FindFirstChild("Puzzles")
    if puzzles then
        for _, obj in ipairs(puzzles:GetDescendants()) do
            if obj:IsA("Model") and obj.Name == "PicturePuzzle" then
                local buttons = obj:FindFirstChild("Buttons")
                if buttons then table.insert(list, buttons) end
            end
        end
    end
    return list
end

local function isTileGreen(btn)
    local ui = btn:FindFirstChild("ButtonLabel")
    local img = ui and ui:FindFirstChild("ImageLabel")
    if img and img:IsA("ImageLabel") then
        local c = img.ImageColor3 or Color3.new(1,1,1)
        return (c.G > 0.75 and c.R < 0.5 and c.B < 0.5)
    end
    return false
end

local function rotateTileOnce(btn)
    local cd = btn:FindFirstChildOfClass("ClickDetector") or btn:FindFirstChildWhichIsA("ClickDetector", true)
    if not cd then return end
    pcall(function()
        if cd.MaxActivationDistance then cd.MaxActivationDistance = math.huge end
        fireclickdetector(cd)
    end)
end

local function solvePicturePuzzleOnce()
    local folders = getAllPictureButtonsFolders()
    if 

    for _, folder in ipairs(folders) do
        for _, btn in ipairs(folder:GetChildren()) do
            if btn:IsA("BasePart") or btn:IsA("MeshPart") then
                local ri = btn:FindFirstChild("RotationIndex")
                local try, ok = 0, false
                while try < 3 do
                    if (ri and ri.Value % 4 == 0) or isTileGreen(btn) then
                        ok = true
                        break
                    end
                    rotateTileOnce(btn)
                    try += 1
                    task.wait(0.12)
                end
                if not ok and ri then
                    local need = (4 - (ri.Value % 4)) % 4
                    for i = 1, need do
                        rotateTileOnce(btn)
                        task.wait(0.12)
                    end
                end
                rotateTileOnce(btn)
                task.wait(0.12)
            end
        end
    end
end

local function pictureLoop()
    while running do
        solvePicturePuzzleOnce()
        task.wait(1)
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    if running then
        task.spawn(pictureLoop)
    end
end)

form:Toggle("Auto-Solve Picture Puzzle", "Auto solves picture puzzle (don’t hover GUIs).", function(state)
    running = state
    if state then
        task.spawn(pictureLoop)
    end
end)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local running = false

local function collectValveActivators()
    local out = {}
    local gk = workspace:FindFirstChild("GameKeeper")
    if not gk then return out end
    local puzzles = gk:FindFirstChild("Puzzles")
    if not puzzles then return out end
    for _, d in ipairs(puzzles:GetDescendants()) do
        if d:IsA("ClickDetector") and d.Parent and d.Parent.Name=="ValveButton" then
            table.insert(out, d)
        elseif d:IsA("ProximityPrompt") and d.Parent and d.Parent.Name=="ValveButton" then
            table.insert(out, d)
        end
    end
    return out
end

local function instantFinishValve(duration)
    duration = duration or 4
    local targets = collectValveActivators()
    if 

    for _, obj in ipairs(targets) do
        if obj:IsA("ClickDetector") then
            task.spawn(spamClickDetector, obj, duration)
        else
            task.spawn(spamPrompt, obj, duration)
        end
    end
end

local function valveLoop()
    while running do
        instantFinishValve(4)
        task.wait(1)
    end
end

LocalPlayer.CharacterAdded:Connect(function()
    if running then
        task.spawn(valveLoop)
    end
end)

form:Toggle("Auto-Solve Valve Puzzle", "Auto solves valve puzzle (don't hover GUIs).", function(state)
    running = state
    if state then
        task.spawn(valveLoop)
    end
end)

local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")

form:Button("Lag Reduction PT II", "Continuously optimizes visuals safely.", function()
    local Terrain = workspace:FindFirstChildWhichIsA("Terrain")
    if Terrain then
        Terrain.WaterWaveSize = 0
        Terrain.WaterWaveSpeed = 0
        Terrain.WaterReflectance = 0
        Terrain.WaterTransparency = 1
    end

    Lighting.GlobalShadows = false
    Lighting.FogEnd = 1e6
    Lighting.FogStart = 1e6
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01

    local all = game:GetDescendants()
    local batchSize = 500
    local i = 1

    while i <= 

        for j = i, math.min(i+batchSize-1, 

            local v = all[j]
            if v:IsA("BasePart") then
                v.CastShadow = false
                v.Material = Enum.Material.Plastic
                v.Reflectance = 0
            elseif v:IsA("Decal") then
                v.Transparency = 1
                v.Texture = ""
            elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                v.Lifetime = NumberRange.new(0)
            end
        end
        i += batchSize
        task.wait()
    end

    for _, v in ipairs(Lighting:GetDescendants()) do
        if v:IsA("PostEffect") then
            v.Enabled = false
        end
    end

    workspace.DescendantAdded:Connect(function(child)
        if child:IsA("BasePart") then
            child.CastShadow = false
        elseif child:IsA("ForceField") or child:IsA("Sparkles") or child:IsA("Smoke") or child:IsA("Fire") or child:IsA("Beam") then
            task.defer(function() child:Destroy() end)
        end
    end)
end)

form:TextBox("Walk Speed", "Change your walk speed. Input only numbers, because you need a speed value, not letters.", function(val)
	game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = val
end)

form:TextBox("Jump Power", "Change your jump power. Input only numbers, because you need a speed value, not letters.", function(val)
	game.Players.LocalPlayer.Character.Humanoid.JumpPower = val
end)
